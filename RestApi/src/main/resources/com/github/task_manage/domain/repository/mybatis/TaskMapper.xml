<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.github.task_manage.domain.repository.mybatis.TaskMapper">
	<!-- マッピング定義 -->
    <resultMap type="com.github.task_manage.domain.model.Task" id="task">
        <id column="task_id" property="taskId" />
        <result column="task_name" property="taskName" />
        <result column="task_detail" property="taskDetail" />
        <result column="status" property="status" />
    </resultMap>

	 <!-- １件insert -->
    <insert id="insertOne" parameterType="com.github.task_manage.domain.model.Task">
        INSERT INTO task_manage_table (
            task_id,
			task_name,
			task_detail,
			status)
        VALUES (
            #{taskId},
            #{taskName},
            #{taskDetail},
            #{status})
    </insert>

    <!-- １件検索 -->
    <select id="selectOne" parameterType="int" resultMap="task">
        SELECT
            task_id,
			task_name,
			task_detail,
			status
        FROM
            task_manage_table
        WHERE
            task_id = #{taskId}
    </select>

    <!-- 全件検索 -->
    <select id="selectMany" resultMap="task">
    	SELECT
    		task_id,
			task_name,
			task_detail,
			status
        FROM
            task_manage_table
    </select>

	<!-- １件更新 -->
    <update id="updateOne" parameterType="com.github.task_manage.domain.model.Task">
        UPDATE task_manage_table
        SET
            task_name = #{taskName},
            task_detail = #{taskDetail},
            status = #{status}
        WHERE task_id = #{taskId}
    </update>

    <!-- １件削除 -->
    <delete id="deleteOne" parameterType="int">
        DELETE FROM task_manage_table WHERE task_id = #{taskId}
    </delete>
</mapper>